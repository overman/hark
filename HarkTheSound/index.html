<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Hark The Sound</title>
    <style type="text/css">
      @import "http://ajax.googleapis.com/ajax/libs/dojo/1.4.1/dojo/resources/dojo.css";
      @import "http://ajax.googleapis.com/ajax/libs/dojo/1.4.1/dijit/themes/tundra/tundra.css";
      @import "css/hark.css";
    </style>
    <script type="text/javascript">
        var djConfig = {
            isDebug: false,
            parseOnLoad: true,
            baseUrl: './',
            modulePaths: {'widgets' : 'widgets'}
        };
    </script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/dojo/1.4.1/dojo/dojo.xd.js"></script>
    <script type="text/javascript" src="/libs/uow/trace.js"></script>
    <script type="text/javascript" src="/libs/uow.js"></script>
    <script type="text/javascript" src="harkTheSound.js"></script>
    <script type="text/javascript">
        //all these are used in the options dialog
        dojo.require('dijit.Dialog');
        dojo.require('dijit.layout.BorderContainer');
        dojo.require("dijit.layout.TabContainer");
        dojo.require('dijit.layout.ContentPane');
        dojo.require("dijit.form.Button");
        dojo.require("dijit.form.NumberSpinner");
        dojo.require("dijit.form.CheckBox");
        dojo.require("dijit.form.Select");
        dojo.require("dijit.form.Slider");
        dojo.require("dijit.Tooltip"); //used in the isValid override for dijit.form.selects
    </script>
  </head>
  <body class="tundra">
    <div dojoType="dijit.layout.BorderContainer" id = "mainContents" liveSplitters="true">
        <div dojoType="dijit.layout.ContentPane" region="top" id ="header" splitter="false">
            <table width="100%">
                <tr>
                <td><h1><div id ="instructions">Welcome</div></h1></td>
                <td>
                    <div style="text-align: right" id = "buttons" dojoType="dijit.layout.ContentPane" splitter="false">                          
                        <button dojoType="dijit.form.Button" id="optionsButton" type="button" >
                            Options
                            <!--harkTheSound.js connects button to dialog. GameEngines handles returned form-->
                        </button> 
                    </div>
                </td>
                </tr>
            </table>
        </div>
        <div dojoType="dijit.layout.ContentPane" id="game" region="center" splitter="true">
            <div dojoType="dijit.layout.ContentPane" id="actionPane" region="bottom" title="Hark the Sound Game">
                <div id="gameGoesHere"></div>
            </div>
        </div>
        <div dojoType="dijit.layout.ContentPane" id="footer" region="bottom" splitter="false">
            <table id = "footerTable">
                <tr>
                <td width = "50%"><h1 id = "choiceBox">Choice: </h1></td>
                <td><h1 id = "promptBox">Prompt: </h1></td>
                </tr>
            </table>
        </div>
    </div>
    <div id="loadingDialog" style="display: none" dojoType="dijit.Dialog" title="Loading">
        <div dojoType="dijit.layout.ContentPane" title="foo" style = "width: 500px; height: 100px; overflow: auto; padding-left: 25px; padding-right: 25px; text-align: center;">
            <h1>Hark The Sound Is Loading</h1>
        </div>
    </div> 
    <!--Rest of body is for the options popup-->
    <div class="center" style="display: none" dojoType="dijit.Dialog" id="formDialog" title="Options">
        <script type="dojo/connect" event="hide">
            dijit.hideTooltip(dijit.byId("moverSwitch").domNode);
            dijit.hideTooltip(dijit.byId("chooserSwitch").domNode);
        </script>

        <!--NEXT BIG CHUNK IS JUST THE OPTIONS MENU-->

        <div dojoType="dijit.layout.BorderContainer" id = "optionsMenu"  style="width: 500px; height: 400px; overflow: auto;">       
            <!--MUST CHANGE DEFAULT VALUES IN EACH ENGINE RIGHT NOW. SHOULE GET VALUES FROM HERE-->
            <div class="left" dojoType="dijit.layout.TabContainer" id="tabs" style="width: 100%; height: 100%;">
                <div dojoType="dijit.layout.ContentPane" title="For Switch Users" id="switchUsers" >
                    <script type="dojo/connect" event="onBlur">
                        dijit.hideTooltip(dijit.byId("moverSwitch").domNode);
                        dijit.hideTooltip(dijit.byId("chooserSwitch").domNode);
                    </script>
                    <table>
                        <tr title = "Set to allow switch users to quit a game or folder">
                            <td>
                                <label for="askQuit">
                                    Ask About Quit:
                                </label>
                            </td>
                            <td >
                                <input id="askQuit" name="askQuit"dojoType="dijit.form.CheckBox" value="yes">
                            </td>
                        </tr>
                        <tr title = "Keyboard or mouse event for changing choices">
                            <td>
                                <label for="moverSwitch">
                                    Mover Switch:
                                </label>
                            </td>
                            <td>
                                <select id="moverSwitch" name="moverSwitch"dojoType="dijit.form.Select">
                                    <!--override-->
                                    <script type="dojo/connect" event="onChange">
                                        dijit.hideTooltip(this.domNode);
                                        dijit.hideTooltip(dijit.byId("chooserSwitch").domNode);
                                        if (this.value == dijit.byId("chooserSwitch").value) {
                                            dijit.showTooltip("Mover and chooser switch may not have same value.", this.domNode, this.tooltipPosition, !this.isLeftToRight());
                                        }
                                    </script>
                                    <script type="dojo/method" event="isValid"> 
                                        dijit.hideTooltip(this.domNode);
                                        if (this.value == "None") { return true;}
                                        else{
                                            if (this.value == dijit.byId("chooserSwitch").value) {
                                                dijit.showTooltip("Mover and chooser switch may not have same value.", this.domNode, this.tooltipPosition, !this.isLeftToRight());
                                                return false;
                                            }
                                            else {
                                                return true;
                                            }
                                        }
                                    </script>
                                    <option value = "None" selected="selected">
                                        None
                                    </option>
                                    <option value="LA">
                                        Left Arrow
                                    </option>
                                    <option value="RA">
                                        Right Arrow
                                    </option>
                                    <option value="UA">
                                        Up Arrow
                                    </option>
                                    <option value="DA">
                                        Down Arrow
                                    </option>
                                    <option value="S">
                                        Space
                                    </option>
                                    <option value="EN">
                                        Enter
                                    </option>
                                    <option value="LC">
                                        Left Mouse Click
                                    </option>
                                    <option value="RC">
                                        Right Mouse Click
                                    </option>
                                </select>
                            </td>
                        </tr>
                        <tr title = "Keyboard or mouse event for choosing">
                            <td>
                                <label for="chooserSwitch">
                                    Chooser Switch:
                                </label>
                            </td>
                            <td>
                                <select id = "chooserSwitch" name="chooserSwitch"dojoType="dijit.form.Select">
                                    <!--override-->
                                    <script type="dojo/connect" event="onChange">
                                        dijit.hideTooltip(this.domNode);
                                        dijit.hideTooltip(dijit.byId("moverSwitch").domNode);
                                        if (this.value == dijit.byId("moverSwitch").value) {
                                            dijit.showTooltip("Mover and chooser switch may not have same value.", this.domNode, this.tooltipPosition, !this.isLeftToRight());
                                        }
                                    </script>
                                    <script type="dojo/method" event="isValid">
                                        dijit.hideTooltip(this.domNode);
                                        if (this.value == "None") {return true;}
                                        else{
                                            if (dijit.byId("moverSwitch").value == this.value) {
                                                return false;
                                            }
                                            else {
                                                return true;
                                            }
                                        }
                                    </script>
                                    <option value = "None" selected="selected">
                                        None
                                    </option>
                                    <option value="LA">
                                        Left Arrow
                                    </option>
                                    <option value="RA">
                                        Right Arrow
                                    </option>
                                    <option value="UA">
                                        Up Arrow
                                    </option>
                                    <option value="DA">
                                        Down Arrow
                                    </option>
                                    <option value="S">
                                        Space
                                    </option>
                                    <option value="EN">
                                        Enter
                                    </option>
                                    <option value="LC">
                                        Left Mouse Click
                                    </option>
                                    <option value="RC">
                                        Right Mouse Click
                                    </option>
                                </select>
                            </td>
                        </tr>
                    </table>
                </div>
                <div dojoType="dijit.layout.ContentPane" title="Game Play" id="gamePlay" >
                    <table>
                        <tr title = "Set this to cause each round to be repeated">
                            <td>
                                <label for="repeatRounds">
                                    Repeat Rounds:
                                </label>
                            </td>
                            <td>
                                <input id="repeatRounds" name="repeatRounds" dojoType="dijit.form.CheckBox" value="yes">
                            </td>
                        </tr>
                        <tr title = "Set this to help a user learn the association between a sound and its name">
                            <td>
                                <label for="pairAnswers">
                                    Pair Answers With Prompts:
                                </label>
                            </td>
                            <td>
                                <input id="pairAnswers" name="pairAnswers" dojoType="dijit.form.CheckBox" value="yes">
                            </td>
                        </tr>
                        <tr title = "Set the number of choices for each round of the game">
                            <td>
                                <label for="choicesPerRound">
                                    Choices Per Round:
                                </label>
                            </td>
                            <td>
                                <!--Need to check how many it can allow for-->
                                <input class = "smallSpinner" dojoType="dijit.form.NumberSpinner" value="4" smallDelta="1"
        constraints="{min:1,max:4,places:0}" id="choicesPerRound" name="choicesPerRound"/>
                            </td>
                        </tr>
                    </table>
                </div>
                <div dojoType="dijit.layout.ContentPane" title="Advanced" id="advanced" >
                    <table>
                        <tr title = "Set to enable automatic key repeat">
                            <td>
                                <label for="keyRepeat">
                                    Key Repeat:
                                </label>
                            </td>
                            <td>
                                <input id="keyRepeat" name="keyRepeat" dojoType="dijit.form.CheckBox" value="yes">
                            </td>
                        </tr>
                        <tr title = "Minimum time in seconds user required to listen to prompt">
                            <td>
                                <label for="promptTime">
                                    Prompt Time:
                                </label>
                            </td>
                            <td>
                                <!--Need to check how many it can allow for-->
                                <input class = "smallSpinner" dojoType="dijit.form.NumberSpinner" value="1" smallDelta="1"
        constraints="{min:0,max:30,places:0}" id="promptTime" name="promptTime"/>
                            </td>
                        </tr>
                        <tr title ="Time in seconds to wait between key presses">
                            <td>
                                <label for="keyDelay">
                                    Key Delay:
                                </label>
                            </td>
                            <td>
                                <!--Need to check how many it can allow for-->
                                <input class = "smallSpinner" dojoType="dijit.form.NumberSpinner" value="0" smallDelta="1"
        constraints="{min:0,max:30,places:0}" id="keyDelay" name="keyDelay"/>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class = "center"dojoType="dijit.layout.ContentPane" title="Sound" id="sound">
                    <h2 title="Set volume level"> Volume level </h2>
                    <table> <!--sole purpose is to push slider to the right, css doesn't work-->
                    <tr>
                    <td width = "40"></td>
                        <td title="Set volume level">
                            <div title="Set volume level" id="volumeSlider" name="volumeSlider"dojoType="dijit.form.HorizontalSlider" value="10000"
minimum="0" maximum="10000" discreteValues="1" intermediateChanges="true"
showButtons="false" style="width:400px;">
                                <ol dojoType="dijit.form.HorizontalRuleLabels" container="topDecoration"
        style="height:1.5em;font-size:75%;color:gray;">
                                    <li>
                                    </li>
                                    <li>
                                        20%
                                    </li>
                                    <li>
                                        40%
                                    </li>
                                    <li>
                                        60%
                                    </li>
                                    <li>
                                        80%
                                    </li>
                                    <li>
                                    </li>
                                </ol>
                                    <div dojoType="dijit.form.HorizontalRule" container="bottomDecoration"
                                    count=11 style="height:5px;">
                                    </div>
                                    <ol dojoType="dijit.form.HorizontalRuleLabels" container="bottomDecoration"
                                    style="height:1em;font-size:75%;color:gray;">
                                        <li>
                                            0%
                                        </li>
                                        <li>
                                            50%
                                        </li>
                                        <li>
                                            100%
                                        </li>
                                    </ol>
                            </div>
                        </td>
                    </tr>
                    </table>
                </div>
            </div>
            <div dojoType="dijit.layout.ContentPane" id="buttonArea" region="bottom" splitter="false">
                <button title="Save changes and exit" dojoType="dijit.form.Button" type="submit" onClick="return dijit.byId('formDialog').isValid();">
                    Apply
                </button>
                <button title="Exit without saving changes" dojoType="dijit.form.Button" type="button" onClick="dijit.byId('formDialog').hide();">
                    Cancel
                </button>
            </div>  
        </div>
    </div>
  </body>
</html>
